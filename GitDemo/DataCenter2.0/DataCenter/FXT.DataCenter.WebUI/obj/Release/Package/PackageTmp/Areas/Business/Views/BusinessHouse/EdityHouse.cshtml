@using FXT.DataCenter.Domain.Models
@{
    ViewBag.Title = "商业房号";
}
@model Dat_House_Biz
@section StyleSheet{

    <style type="text/css">
        #tbInputCon
        {
            margin-top: 10px;
            margin-left: 30px;
            width: 95%;
            font-size: 14px;
            font-weight: normal;
            line-height: 20px;
            font-family: "Microsoft Yahei", "微软雅黑", "宋体", "Simsun", "Open Sans";
        }

        .ui-multiselect
        {
            height: 35px;
        }

        input.hasDatepicker
        {
            width: 205px;
        }

        .required
        {
            color: red;
        }
    </style>
}
@section Javascript{
    <script src="@Url.Content("~/Content/layer-v1.7.1/layer/layer.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $("div.page-sidebar ul li").eq(2).addClass("active").find("a span").eq(1).addClass("selected");
            var locationHref = window.location.href;
            if (locationHref.indexOf("Business/BusinessHouse")) {
                $("#navigation .breadcrumb li:eq(1)").remove();
                var html = "<li><span><a href=\"/Business/BusinessStreet/Index\">商业街</a></span><i class=\"icon-angle-right\"></i></li>";
                html += "<li><span><a href=\"/Business/BusinessBuild/Index?ProjectId=@(ViewBag.projectId)\">商业楼栋</a></span><i class=\"icon-angle-right\"></i></li>";
                html += " <li><span><a href=\"/Business/BusinessFloor/Index?projectId=@(ViewBag.projectId)&buildingId=@(ViewBag.buildingId)\">商业楼层</a></span> <i class=\"icon-angle-right\"></i></li>";
                html += " <li><span>商业房号</span></li>";
                $("ul.breadcrumb").append(html);
            }
        });

    </script>
}
@using (Html.BeginForm())
{
    <table id="tbInputCon" class="tbInputCon">
        <tr>
            <td><span class="required">*</span>房号名称:
            </td>
            <td>
                @Html.TextBoxFor(m => m.HouseName)
                @Html.ValidationMessageFor(m => m.HouseName)
            </td>
            <td><span class="required">*</span>室号:
            </td>
            <td>
                @Html.TextBoxFor(m => m.UnitNo)
                @Html.ValidationMessageFor(m => m.UnitNo)
            </td>
        </tr>
        <tr>
            <td><span class="required">*</span>商业阻隔:
            </td>
            <td>
                @Html.DropDownListFor(m => m.BizCutOff, (ViewBag.BizCutOffName) as List<SelectListItem>)
            </td>
            <td><span class="required">*</span>商铺类型:
            </td>
            <td>
                @Html.DropDownListFor(m => m.BizHouseType, (ViewBag.BizHouseTypeName) as List<SelectListItem>)
            </td>
        </tr>
        <tr>
            <td><span class="required">*</span>商铺位置类型:
            </td>
            <td>
                @Html.DropDownListFor(m => m.BizHouseLocation, (ViewBag.BizHouseLocationName) as List<SelectListItem>)
                @Html.ValidationMessageFor(m => m.BizHouseLocation)
            </td>
            <td>证载用途:
            </td>
            <td>
                @Html.DropDownListFor(m => m.PurposeCode, (ViewBag.PurposeCodeName) as List<SelectListItem>)
            </td>
        </tr>
        <tr>
            <td>实际用途:
            </td>
            <td>
                @Html.DropDownListFor(m => m.SJPurposeCode, (ViewBag.PurposeCodeName) as List<SelectListItem>)
            </td>
            <td>建筑面积:
            </td>
            <td>
                @Html.TextBoxFor(m => m.BuildingArea)
            </td>
        </tr>
        <tr>
            <td>套内面积:
            </td>
            <td>
                @Html.TextBoxFor(m => m.InnerBuildingArea)
            </td>
            <td>朝向:
            </td>
            <td>
                @Html.DropDownListFor(m => m.FrontCode, (ViewBag.FrontCodeName) as List<SelectListItem>)
            </td>
        </tr>
        <tr>
            <td>平面形状:
            </td>
            <td>
                @Html.DropDownListFor(m => m.Shape, (ViewBag.ShapeName) as List<SelectListItem>)
            </td>
            <td>开间:
            </td>
            <td>
                @Html.TextBoxFor(m => m.Width)
            </td>
        </tr>
        <tr>
            <td>进深:
            </td>
            <td>
                @Html.TextBoxFor(m => m.Length)
            </td>
            <td>有无夹层:
            </td>
            <td>
                @Html.DropDownListFor(m => m.IsMezzanine, new List<SelectListItem> { 
                new SelectListItem{Value="-1",Text="--请选择--"},
                new SelectListItem{Value="0",Text="无"},
                new SelectListItem{Value="1",Text="有"}
           })
            </td>
        </tr>
        <tr>
            <td>人流量:
            </td>
            <td>
                @Html.DropDownListFor(m => m.FlowType, (ViewBag.FlowTypeName) as List<SelectListItem>)
            </td>
            <td>开门数:
            </td>
            <td>
                @Html.TextBoxFor(m => m.DoorNum)
            </td>
        </tr>
        <tr>
            <td>出租率:
            </td>
            <td>
                @Html.TextBoxFor(m => m.RentRate)%
            </td>
            <td>单价:
            </td>
            <td>
                @Html.TextBoxFor(m => m.UnitPrice)
            </td>
        </tr>
        <tr>
            <td>价格系数:
            </td>
            <td>
                @Html.TextBoxFor(m => m.Weight)
            </td>
            <td>是否可估:
            </td>
            <td>
                @Html.DropDownListFor(m => m.IsEValue, new List<SelectListItem> { 
                new SelectListItem{Value="-1",Text="--请选择--"},
                new SelectListItem{Value="0",Text="否"},
                new SelectListItem{Value="1",Text="是"}
           })
            </td>
        </tr>
        <tr>
            <td>临街、位置描述:
            </td>
            <td colspan="3">
                @Html.TextAreaFor(m => m.Location, new { cols = "20", rows = "2", style = "margin-bottom: 5px; width: 535px; height: 68px;" })
            </td>
        </tr>
        <tr>
            <td>备注:
            </td>
            <td colspan="3">
                @Html.TextAreaFor(m => m.Remarks, new { cols = "20", rows = "2", style = "margin-bottom: 5px; width: 535px; height: 68px;" })
            </td>
        </tr>
          <tr>
            <td colspan="4" style="padding: 15px 0px;">
                <button class="btn blue" type="submit" id="btnsubmit">
                    <i class="icon-ok"></i>确定
                </button>
                @if (Model != null && Model.HouseId > 0)
                {
                    <a class="btn" target="_blank" title='商铺'  href="@Url.Action("Index","BusinessStore", new { ProjectId = ViewBag.projectId, BuildingId = Model.BuildingId,HouseId=Model.HouseId,floorId=Model.FloorId,isExternalRequest = true})">
                        <i class=" icon-share-alt"></i>商铺 </a>
                }
            </td>
        </tr>
    </table>

    <div>
        <input type="hidden" id="ProjectId" name="ProjectId" value="@ViewBag.ProjectId" />
        <input type="hidden" id="BuildingId" name="BuildingId" value="@ViewBag.BuildingId" />
        <input type="hidden" id="FloorId" name="FloorId" value="@(ViewBag.FloorId)" />
        <input type="hidden" id="HouseId" name="HouseId" value="@Model.HouseId" />
        <input type="hidden" id="FxtCompanyId" name="FxtCompanyId" value="@Model.FxtCompanyId" />
    </div>
}
