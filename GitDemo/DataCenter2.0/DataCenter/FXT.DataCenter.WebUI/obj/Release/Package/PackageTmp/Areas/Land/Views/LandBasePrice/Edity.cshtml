@{
    ViewBag.Title = "Edity";
    Layout = "~/Views/Shared/_Layout.Edit.Map.cshtml";
}
@using FXT.DataCenter.Domain.Models;
@model DAT_Land_BasePrice
@section PageSpecificStyleSheetIncludes{
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/Plugin/MutilSelect/jquery.multiselect.css")" />
    <style type="text/css">
        #tbInputCon
        {
            margin-top: 10px;
            margin-left: 30px;
            width: 95%;
            font-size: 14px;
            font-weight: normal;
            line-height: 20px;
            font-family: "Microsoft Yahei", "微软雅黑", "宋体", "Simsun", "Open Sans";
        }

        .ui-multiselect
        {
            height: 35px;
        }

        input.hasDatepicker
        {
            width: 206px;
        }
    </style>
}
@section PageSpecificJavascriptIncludes{
    @* <script type="text/javascript" src="@Url.Content("~/Content/Plugin/MutilSelect/jquery.multiselect.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Plugin/MutilSelect/jquery.multiselect.zh-cn.js")"></script>*@
    <script type="text/javascript">
        $(document).ready(function () {
            //日期控件渲染

            $("#pricedate").datepicker({ format: 'yyyy-mm-dd' });
            $("#areaid").change(function () {
                $.ajax({
                    url: '/land/land/BingSubArean',
                    dataType: "Json",
                    type: "POST",
                    data: { areaId: $(this).find("option:selected").val() },
                    success: function (item) {
                        var str = "";
                        for (var i = 0; i < item.data.length; i++) {

                            str += "<option value='" + item.data[i].Value + "'>" + item.data[i].Text + "</option>";

                        }
                        $("#subareaid").empty().append(str);
                    }
                });
            });
        });
    </script>
    <script src="@Url.Content("~/Content/Scripts/cityBind/city.js")" type="text/javascript"></script>
    <script type="text/javascript">
        var cityId = '@ViewBag.cityId'
        var landId = '@(Model.id)';
        $(function () {
            //BindCity(cityId);
            $("#areaid").change(function () {
                var areaId = $(this).find("option:selected").val();
                BindSubArea(areaId);
            });
            if (parseInt(landId) > 0) {
                BindCity('@(Model.cityid)', '@(Model.areaid)');
                BindSubArea('@(Model.areaid)', '@(Model.subareaid)');
            }
        });

    </script>
}
@section MainContent{
    <table class="tbInputCon" id="tbInputCon">
        <tr>
            <td><b style="color: Red;">*</b>城市:
            </td>
            <td>@Html.DropDownListFor(m => m.cityid, (ViewBag.citylist) as List<SelectListItem>)
            </td>
            <td>行政区:
            </td>
            <td>@Html.DropDownList("areaid")
            </td>
        </tr>
        <tr>
            <td>片区:
            </td>
            <td>@Html.DropDownListFor(m => m.subareaid, new List<SelectListItem> { new SelectListItem { Value = "-1", Text = "--请选择--" } })
            </td>
            <td><b style="color: Red;">*</b>土地用途:
            </td>
            <td>@Html.DropDownListFor(m => m.purposecode, (ViewBag.landcodelist) as List<SelectListItem>)
                <input id="opValue" name="opValue" type="hidden" />
            </td>
        </tr>
        <tr>
            <td><b style="color: Red;">*</b>土地等级:
            </td>
            <td>@Html.DropDownListFor(m => m.landclass, new List<SelectListItem> { 
               new SelectListItem { Value = "-1", Text = "--请选择--"},
               new SelectListItem { Value = "1209001", Text = "一级" } ,
               new SelectListItem { Value = "1209002", Text = "二级" } ,
               new SelectListItem { Value = "1209003", Text = "三级" } ,
               new SelectListItem { Value = "1209004", Text = "四级" } ,
               new SelectListItem { Value = "1209005", Text = "五级" } ,
               new SelectListItem { Value = "1209006", Text = "六级" } ,
               new SelectListItem { Value = "1209007", Text = "七级" }               
           })
            </td>
            <td><b style="color: Red;">*</b>地价公布日期:
            </td>
            <td>@Html.TextBoxFor(m => m.pricedate, new { Value = Model.pricedate == null ? "" : Model.pricedate.Value.ToString("yyyy-MM-dd") })
            </td>
        </tr>
        <tr>
            <td>土地平均单价(元/㎡):
            </td>
            <td colspan="3">@Html.TextBoxFor(m => m.landunitprice_avg)
            </td>
        </tr>
        <tr>
            <td>土地单价Min(元/㎡):
            </td>
            <td>@Html.TextBoxFor(m => m.landunitprice_min)
            </td>
            <td>土地单价Max(元/㎡):
            </td>
            <td>@Html.TextBoxFor(m => m.landunitprice_max)
            </td>
        </tr>
        <tr>
            <td>建面平均地价(元/㎡):
            </td>
            <td colspan="3">@Html.TextBoxFor(m => m.buildingunitprice_avg)
            </td>
        </tr>
        <tr>
            <td>建面地价Mix(元/㎡):
            </td>
            <td>@Html.TextBoxFor(m => m.buildingunitprice_min)
            </td>
            <td>建面地价Max(元/㎡):
            </td>
            <td>@Html.TextBoxFor(m => m.buildingunitprice_max)
            </td>
        </tr>
        <tr>
            <td>发布公文号</td>
            <td>@Html.TextBoxFor(m => m.DocumentNo)
            </td>
            <td>备注</td>
            <td>@Html.TextAreaFor(m => m.Remarks, new { cols = "10", rows = "2", style = "margin: 0px; width: 260px; height: 68px;" })
            </td>
        </tr>
        <tr>
            <td></td>
            <td>@Html.HiddenFor(m => m.fxtcompanyid)
            </td>
        </tr>
        <tr>
            <td>
                <input type="hidden" id="id" name="id" value="@Model.id" />
            </td>
        </tr>
    </table>
}
