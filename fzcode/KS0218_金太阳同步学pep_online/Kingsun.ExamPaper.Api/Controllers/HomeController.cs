using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using Kingsun.ExamPaper.BLL;
using Kingsun.ExamPaper.Common;
using Kingsun.ExamPaper.Model;

namespace Kingsun.ExamPaper.Api.Controllers
{
    public class HomeController : Controller
    {
        StuAnswerBLL catalogbll = new StuAnswerBLL();
        string connectionStr = System.Configuration.ConfigurationManager.ConnectionStrings["KingsunExamPaperConnectionStr"].ConnectionString;
        public ActionResult Index()
        {
            string model = "{\"UserID\":\"5097600\",\"CatalogID\":82,\"TotalScore\":90.000000,\"DoDate\":\"/Date(1514390400000)/\",\"AnswerList\":[{\"QuestionID\":\"918e6d58-8593-44a3-9477-e0b6b5b17bc7\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"6\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"70603d5a-bb20-4b33-90a4-f8964751df69\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"99cbeeac-8e23-4def-9dd9-0be0ae1e18b2\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"4\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"51022beb-215b-40cb-8d1d-064b49d6e0c7\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"7\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"382e3008-edb5-4102-a4ad-c2819e7cf9ac\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"9\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"2cec3b7f-2656-4e99-bc31-2797a6f0b8d5\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"9a2cdae6-6f37-4285-a29d-fff4ea1db443\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"10\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"7f35d882-35b9-4b60-9cdc-7d0083775d61\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"a766b969-d8f9-4b7d-ac4e-4dc3cc3ef64e\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"5\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"e1508408-6047-413e-a46a-18929f939775\",\"ParentID\":\"f5956390-fcd6-4f05-9d31-1efd014960f0\",\"Answer\":\"8\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"90be8d12-8b5a-4830-9912-4ee53ac5d53a\",\"ParentID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"e7d513f0-3436-461b-926d-e321e76b8e10\",\"ParentID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"cdbd789c-cc22-4e70-94bb-611c9ae2917a\",\"ParentID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"91b6da65-1548-466d-8660-72e0f435e7bc\",\"ParentID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"3192e0d1-ced7-401d-b2fd-4afc1478762b\",\"ParentID\":\"397a9b29-cf38-4752-bb5a-3b41deec36b7\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"d3c2e97b-f553-4110-b48a-7bf4b03946cc\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"8068836a-96d6-4d3e-8527-86678a5fdcea\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"19cdfdf0-27e7-44a3-a9ed-ed5eb5d7e457\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"5ea72d76-9223-4650-881d-710ad90c4115\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"05eb9993-dc19-45ec-9830-223e45bc0d48\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"11f751de-68ed-4aba-8ae9-013965e4c57c\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"23f150a6-28e8-47da-b0e0-82abfba6ac31\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"5051cc53-469a-4b6e-8762-6722dae6a033\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"f2e1baa5-edbf-4b9c-bbbb-838b5f0caa19\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"782c32c1-515c-40ad-9f2c-d569ae7ecb7d\",\"ParentID\":\"24d3023a-6918-4f42-87a8-49da06cf33be\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"14fb197c-a590-4e53-a5af-27f4dfa94b8d\",\"ParentID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"42dd7c0c-f50a-4488-8dfc-b82f7bd6896e\",\"ParentID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"3344de2d-6d1a-48bf-bd89-ec38e43bbbf0\",\"ParentID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"09964a3a-29b1-4d45-bfa8-7d60ffef382e\",\"ParentID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"77b63f26-8fdb-4797-9afc-d76f1e6ef1d5\",\"ParentID\":\"be425b60-10d0-443f-aad9-b819dab02d3d\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"7502f802-3ac7-4f31-8329-a6cc82e9d665\",\"ParentID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"Answer\":\"good\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":4.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"fc976218-7850-4111-b552-e2143d5e72c6\",\"ParentID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"Answer\":\"He\u0027\u0027s\",\"Score\":0.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"0fcb25eb-a39f-49c2-be50-46b1275e31af\",\"ParentID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"Answer\":\"Chinese\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"0049d652-a95c-4a57-8b4c-bc465eb0af96\",\"ParentID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"Answer\":\"hfyuyi\",\"Score\":0.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"1274f95e-4c23-411b-9699-3cb623936e0d\",\"ParentID\":\"48163521-1628-44ff-bfd5-7b7c57cf489d\",\"Answer\":\"hgfyu\",\"Score\":0.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"dd39d9ff-5939-4583-955f-e8ab318c3a1d\",\"ParentID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"Answer\":\"4\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"bcbfc3fd-d067-42e9-a6bf-8aaab2c55799\",\"ParentID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"Answer\":\"4\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"6b1de339-646d-486c-9348-0868b68af1b9\",\"ParentID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"10c3fc7e-f216-43e2-a4ca-90aba8df331a\",\"ParentID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"Answer\":\"3\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"fa5ac7f4-33a9-47fa-a18e-a0dd4d3917c8\",\"ParentID\":\"095714c1-264f-4a35-ada5-0c1e9d04ef70\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"9f0040b5-ba1c-41bb-86e4-92714f0f90de\",\"ParentID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":8.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"67072816-7da6-4cb8-9797-afd3dd21d1b7\",\"ParentID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"43ae2341-4082-4a29-8296-d8983a2ffdee\",\"ParentID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"Answer\":\"3\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"f122f776-a3cf-44c1-90ed-c236369a6748\",\"ParentID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"Answer\":\"2\",\"Score\":0.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"e670c37f-03f5-42cd-b3d2-93ecad58339d\",\"ParentID\":\"021a568e-d27a-4adc-832d-ebabf7eeef44\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"703736ae-014b-4d54-a906-ed141fabf725\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"09672b79-3aeb-48c1-93d0-9215b53e455f\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"fc4b9bc5-543b-4d36-b4de-4ce65bcf1b2a\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"7a465c69-bf03-44aa-9a7d-73cf5847cd01\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"99a10992-4511-425c-9091-b8aefeb348d8\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"3a5f65c9-63cd-41a5-8c8f-47ee0325faf3\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"1\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"ca4a5ede-933e-493b-898a-2270b0086581\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"38024d27-5e70-4524-836b-445bd0e8de7b\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"3\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"9323f13f-f0af-4f33-b30b-70bb9bf77643\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"dc3014a5-15f6-4e0d-b4fe-4a4f4be32605\",\"ParentID\":\"d9f2bc57-e042-4170-802c-9b2bb4a15ad6\",\"Answer\":\"2\",\"Score\":1.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"297aad92-64a0-4edb-ab05-beda11e9d695\",\"ParentID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"Answer\":\"C\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":10.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"6f2cb6b1-6e59-4011-975f-ddedb795b5b6\",\"ParentID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"Answer\":\"D\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"323c0105-a603-4666-9e6a-457b2822fb35\",\"ParentID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"Answer\":\"E\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"9436140f-2b75-4d6d-a0b1-91321f2d197b\",\"ParentID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"Answer\":\"B\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"d92a795b-0890-4c94-990d-309ce14989b3\",\"ParentID\":\"cde6ebe9-eee0-453f-9db7-7962eee72674\",\"Answer\":\"A\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"4646d5dd-35d9-4134-b125-389012dba653\",\"ParentID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"ParentID\":\"\",\"Answer\":\"\",\"Score\":8.000000,\"IsRight\":0,\"CatalogID\":null},{\"QuestionID\":\"faa62b76-c12c-4843-8a57-e9a6c56e38bb\",\"ParentID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"5e2f6d4c-f3dd-455b-9375-dabf9e71a167\",\"ParentID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"Answer\":\"1\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"a68464f9-e25d-46d0-9244-d37fc009cb73\",\"ParentID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"Answer\":\"2\",\"Score\":2.000000,\"IsRight\":1,\"CatalogID\":null},{\"QuestionID\":\"9626f61d-b879-415e-b6d3-2f9cbc943a18\",\"ParentID\":\"58520812-aac9-4dda-b218-4f9bf348d5fa\",\"Answer\":\"1\",\"Score\":0.000000,\"IsRight\":0,\"CatalogID\":null}]}";
            Exampaper2DbModel data = JsonHelper.DecodeJson<Exampaper2DbModel>(model);
            catalogbll.UploadStuAnswerList(data.UserID, data.CatalogID, data.TotalScore, data.AnswerList, connectionStr);
            return View();
        }
    }
}
