@using CBSS.Web
@using CBSS.Framework.Contract
@using CBSS.Tbx.Contract.ViewModel
@using CBSS.Tbx.Contract.DataModel
@using CBSS.Framework.Web.Controls
@{
    ViewBag.Title = "配置应用模块";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model PagedList<v_AppModuleItem>
<div class="row-fluid">
    <div class="span4">
        <div>
            <a class="btn blue thickbox" title='配置模块' href="@Url.Action("Create",new { id = Request.RequestContext.RouteData.Values["id"]})?TB_iframe=true&height=520&width=600"><i class="icon-plus icon-white"></i> 配置模块</a>
        </div>
    </div>
    <div class="span8">
        @using (Html.BeginForm(null, null, null, FormMethod.Get, new { id = "search" }))
        {
            <div class="dataTables_filter">
              
                <label>
                    应用名称: @(ViewData["AppName"] != null ? (ViewData["AppName"] as App).AppName : "")
                </label>
            </div>
        }
    </div>
</div>

@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "mainForm" }))
{
    <table class="table table-striped table-hover ">
        <thead>
            <tr> 
                <th>
                    模块名称
                </th>
                <th>
                    app上显示的名称
                </th> 
                <th>
                    发布时间
                </th>
                <th>
                    操作
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var m in Model)
            {
                <tr> 
                    <td>
                        @m.ModuleName
                    </td>
                    <td>
                        @m.ProductShowName
                    </td>
                    <td>
                        @m.CreateDate.ToString("yyyy-MM-dd HH:mm:ss")
                    </td>
                    <td>
                        <a class="btn mini purple thickbox" title='编辑' href="@Url.Action("Edit", new { id = m.AppModuleItemID })?TB_iframe=true&height=520&width=600">
                            <i class="icon-edit"></i>
                            编辑
                        </a> 
                        <a class="btn mini purple" id="mydelete" href="javascript:void(0)" onclick="DelAppClick(@m.AppModuleItemID)"><i class="icon-trash icon-white"></i> 删除</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
<div class="dataTables_paginate paging_bootstrap pagination">
    @Html.Pager(Model, new PagerOptions() { ShowTotalItemCount = true })
</div>