@using CBSS.Web
@using CBSS.Tbx.Contract.ViewModel
@using CBSS.Framework.Contract
@{
    ViewBag.Title = "模块管理";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row-fluid" style="margin-bottom:10px">
    <div class="span4">
        <div>

            <a class="btn green thickbox" title='添加模块' href=" /Tbx/Module/Create/@Request.RequestContext.RouteData.Values["id"]?TB_iframe=true&height=520&width=600">添加模块 <i class="icon-plus icon-white"></i></a>
        </div>
    </div>
</div>
<table class="table table-striped table-hover" id="tb_booktable"></table>

@section PageSpecificJavascriptIncludes{
    <link href="~/Content/Scripts/bootstrap-table-develop/src/bootstrap-table.css" rel="stylesheet" />
    <script src="~/Content/Scripts/bootstrap-table-develop/src/bootstrap-table.js"></script>
    <script src="~/Content/Scripts/bootstrap-table-develop/src/locale/bootstrap-table-zh-CN.js"></script>
    <script src="~/Assets/pages/ModuleManage.js?v=1.3"></script>
    <link href="~/Assets/bootstrap-tree/tree.css" rel="stylesheet" />
    <script src="~/Assets/bootstrap-tree/bootstrap-treeview.js"></script>
    <script type="text/javascript">
        $(function () {
            var edit = 'True';
            var del = 'True';
            //alert(edit); alert(del);
            var oTable = new ModuleTableInit();
            oTable.Init(edit, del);
    });
    function DelModuleByModuleID(ModuleID, MarketBookID) {
        bootbox.setDefaults("locale", "zh_CN");
        bootbox.confirm("确定删除~", function (result) {
            if (result) {
                $.post("/Module/DelModuleByModuleID", { ModuleID: ModuleID, MarketBookID: MarketBookID }, function (data) {
                    if (data) {
                        alert(data);
                        window.location.reload();
                    }
                });
            }
        });
    }
    </script>
}












