@using FxtDataAcquisition.Domain.Models
@model Templet
@{
    Layout = null;

    var groupList = ViewBag.GroupList as List<FieldGroupTemplet>;
}

<!DOCTYPE html>
<html>
<head>

    <title>无纸化住宅物业信息采集系统</title>
    @*<meta name="keyword" content="拖拽式表单设计器,Web Formbuilder,Formbuild,专业表单设计器,高级表单设计器,智能表单设计器,WEB表单设计器,web formdesign,formdesigner">
        <meta name="description" content="拖拽式表单设计器Formbuild是强大的在线WEB表单设计器，它通常在、OA系统、问卷调查系统、考试系统、等领域发挥着重要作用，你可以在此基础上任意修改使功能无限强大！">*@

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="author" content="leipi.org">
    <link href="/Public/css/bootstrap/css/bootstrap.css?2024" rel="stylesheet" type="text/css" />
    <!--[if lte IE 6]>
    <link rel="stylesheet" type="text/css" href="/Public/css/bootstrap/css/bootstrap-ie6.css?2024">
    <![endif]-->
    <!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" href="/Public/css/bootstrap/css/ie.css?2024">
    <![endif]-->
    <link href="/Public/css/site.css?2024" rel="stylesheet" type="text/css" />
    @*<script type="text/javascript">
            var _root = 'http://formbuild/index.php?s=/', _controller = 'index';
        </script>*@

    <style>
        #components {
            min-height: 600px;
        }

        #target {
            min-height: 200px;
            border: 1px solid #ccc;
            padding: 5px;
        }

            #target .component {
                border: 1px solid #fff;
            }

        #temp {
            width: 500px;
            background: white;
            border: 1px dotted #ccc;
            border-radius: 10px;
        }

        .popover-content form {
            margin: 0 auto;
            width: 213px;
        }

            .popover-content form .btn {
                margin-right: 10px;
            }

        #source {
            min-height: 500px;
        }

        input, :after, :before {
            -webkit-box-sizing: content-box;
            box-sizing: content-box;
        }

        .controls > input {
            padding: 4px 6px 6px 4px;
        }
    </style>
    <!--link href="Public/css/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"-->


</head>
<body>

    <div class="container" style="padding-left:0px;padding-right:0px">
        <div class="row clearfix">
            <div class="span6">
                <div class="clearfix">
                    <h2>
                        <button type="button" id="callback" class="btn btn-danger navbar-btn">返回</button>&nbsp;
                        <button type="button" id="save" class="btn btn-success navbar-btn">保存</button>
                    </h2>
                    <hr>
                    <div id="build">
                        <div class="accordion" id="accordion2">
                            <form id="target" class="form-horizontal" style="overflow:auto;height:560px">
                                @* <fieldset> *@
                                <div id="legend" class="component" rel="popover" title="编辑属性" trigger="manual"
                                     data-content="
                <form class='form'>
                  <div class='controls'>
                    <label class='control-label'>模板名称</label> <input type='text' id='orgvalue' placeholder='请输入模板名称'>
                    <hr/>
                    <button class='btn btn-info' type='button'>确定</button><button class='btn btn-danger' type='button'>取消</button>
                  </div>
                </form>"
                >
                                    <input type="hidden" name="form_name" value='@Model.TempletName' class="leipiplugins" leipiplugins="form_name" />
                <legend class="leipiplugins-orgvalue">@if(string.IsNullOrEmpty(Model.TempletName)){@("点击填写模板名")}else{@Model.TempletName} </legend>
              </div>
                                @{
                                    if (Model.TempletId > 0)
                                    {

                                        if (Model.FieldGroups != null && Model.FieldGroups.Count > 0)
                                        {
                                            foreach (var fieldGroups in Model.FieldGroups)
                                            {
                                                <div class="accordion-group component" title="单击分组展开、收缩" name="@fieldGroups.FieldGroupName">
                                                    <div class="accordion-heading">
                                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#group_@fieldGroups.FieldGroupId">
                                                            @fieldGroups.FieldGroupName
                                                        </a>
                                                    </div>
                                                    <div id="group_@fieldGroups.FieldGroupId" class="accordion-body collapse in">
                                                        <div class="accordion-inner">
                                                            <fieldset groupname="@fieldGroups.FieldGroupName">
                                                                @{
                                                if (fieldGroups.Fields != null && fieldGroups.Fields.Count > 0)
                                                {
                                                    foreach (var field in fieldGroups.Fields)
                                                    {
                                                        <div class="control-group component" rel="popover" name="@field.FieldName" trigger="manual" data-content="">
                                                            <label class="control-label leipiplugins-orgname">@field.Title@if(field.IsRequired==1){@Html.Raw("<span style='color:red'>*</span>")}</label>
                                                            <div class="controls">
                                                                @switch (field.FieldType)
                                                                {
                                                                    case 1:
                                                                        <input name="leipiNewField" type="text" fieldname="@field.FieldName" placeholder="" title="@field.Title" value="" class="leipiplugins" leipiplugins="text"
                                                                               fieldtype="@field.FieldType" fieldmaxlength="@field.MaxLength" fieldminlength="@field.MinLength" fieldisrequire="@field.IsRequired" fieldeditexttype="@field.EdiTextType" fielddefultvalue="@field.DefaultValue" fieldisselect="@field.IsSelect" fieldisnull="@field.IsNull"/>
                                                                        break;
                                                                    case 2:
                                                                    <div class="textarea">
                                                                        <textarea title="@field.Title" name="leipiNewField" fieldname="@field.FieldName" class="leipiplugins" leipiplugins="textarea"
                                                                                  fieldtype="@field.FieldType" fieldmaxlength="@field.MaxLength" fieldminlength="@field.MinLength" fieldisrequire="@field.IsRequired" fieldeditexttype="@field.EdiTextType" fielddefultvalue="@field.DefaultValue" fieldisselect="@field.IsSelect" fieldisnull="@field.IsNull"></textarea>
                                                                    </div>
                                                                        break;
                                                                    case 3:
                                                                    <select name="leipiNewField" title="@field.Title" fieldname="@field.FieldName" class="leipiplugins" leipiplugins="select"
                                                                            fieldtype="@field.FieldType" fieldmaxlength="@field.MaxLength" fieldminlength="@field.MinLength" fieldisrequire="@field.IsRequired" fieldeditexttype="@field.EdiTextType" fielddefultvalue="@field.DefaultValue" fieldisselect="@field.IsSelect" fieldisnull="@field.IsNull">
                                                                        <option>选项</option>
                                                                    </select>
                                                                        break;
                                                                    case 5:
                                                                    <select name="leipiNewField" title="@field.Title" fieldname="@field.FieldName" class="leipiplugins" leipiplugins="select"
                                                                            fieldtype="@field.FieldType" fieldmaxlength="@field.MaxLength" fieldminlength="@field.MinLength" fieldisrequire="@field.IsRequired" fieldeditexttype="@field.EdiTextType" fielddefultvalue="@field.DefaultValue" fieldisselect="@field.IsSelect" fieldisnull="@field.IsNull">
                                                                        <option>选项</option>
                                                                    </select>
                                                                        break;
                                                                    case 6:
                                                                    <input name="leipiNewField" type="text" fieldname="@field.FieldName" placeholder="" title="@field.Title" value="" class="leipiplugins" leipiplugins="text"
                                                                           fieldtype="@field.FieldType" fieldmaxlength="@field.MaxLength" fieldminlength="@field.MinLength" fieldisrequire="@field.IsRequired" fieldeditexttype="@field.EdiTextType" fielddefultvalue="@field.DefaultValue" fieldisselect="@field.IsSelect" fieldisnull="@field.IsNull"/>
                                                                        break;
                                                                    default:
                                                                        break;
                                                                }
                                                            </div>
                                                        </div>
                                                    }

                                                }
                                                                }

                                                            </fieldset>
                                                        </div>
                                                    </div>
                                                </div>

                                            }
                                        }
                                    }
                                    @*else
                                        {
                                            <div class="accordion-group" title="单击分组展开、收缩" name="楼栋基础信息">
                                                <div class="accordion-heading">
                                                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                                                        楼栋基础信息
                                                    </a>
                                                </div>
                                                <div id="collapseOne" class="accordion-body collapse in">
                                                    <div class="accordion-inner">
                                                        <fieldset groupname="楼栋基础信息">
                                                            <div class="control-group component" rel="popover" name="BuildingName" trigger="manual" data-content="">
                                                                <label class="control-label leipiplugins-orgname">楼栋名称<span style="color:red">*</span></label>
                                                                <div class="controls">
                                                                    <input name="leipiNewField" type="text" fieldname="BuildingName" placeholder="" title="楼栋名称" value="" class="leipiplugins" leipiplugins="text" />
                                                                </div>
                                                            </div>
                                                            <div class="control-group component" rel="popover" name="TotalFloor" trigger="manual" data-content="">
                                                                <label class="control-label leipiplugins-orgname">总层数<span style="color:red">*</span></label>
                                                                <div class="controls">
                                                                    <input name="leipiNewField" type="text" fieldname="TotalFloor" placeholder="" title="总层数" value="" class="leipiplugins" leipiplugins="text" />
                                                                </div>
                                                            </div>
                                                            <!-- Select start -->
                                                            <div class="control-group component" rel="popover" name="PurposeCode" title="楼栋用途" trigger="manual" data-content="">
                                                                <!-- Select -->
                                                                <label class="control-label leipiplugins-orgname">楼栋用途<span style="color:red">*</span></label>
                                                                <div class="controls">
                                                                    <select name="leipiNewField" title="楼栋用途" fieldname="PurposeCode" class="leipiplugins" leipiplugins="select">
                                                                        <option>选项</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <!-- Select end -->
                                                            <!-- Select start -->
                                                            <div class="control-group component" rel="popover" name="IsElevator" title="是否带电梯" trigger="manual" data-content="">
                                                                <!-- Select -->
                                                                <label class="control-label leipiplugins-orgname">是否带电梯<span style="color:red">*</span></label>
                                                                <div class="controls">
                                                                    <select name="leipiNewField" title="是否带电梯" fieldname="IsElevator" class="leipiplugins" leipiplugins="select">
                                                                        <option>选项</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <!-- Select end -->
                                                            <!-- Select start -->
                                                            <div class="control-group component" rel="popover" name="MaintenanceCode" title="维护情况" trigger="manual" data-content="">
                                                                <!-- Select -->
                                                                <label class="control-label leipiplugins-orgname">维护情况<span style="color:red">*</span></label>
                                                                <div class="controls">
                                                                    <select name="leipiNewField" title="维护情况" fieldname="MaintenanceCode" class="leipiplugins" leipiplugins="select">
                                                                        <option>选项</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <!-- Select end -->
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>
                                        }*@
                                }
                            </form>
                        </div>
                    </div>

                </div>
            </div>

            <div class="span6">
                <h2>拖拽下面的控件到左侧</h2>
                <hr>
                <div class="tabbable">
                    <ul class="nav nav-tabs" id="navtab">
                        <li class="active"><a href="#1" data-toggle="tab">字段</a></li>
                        <li class><a href="#2" data-toggle="tab">分组</a></li>
                        @*<li class><a id="sourcetab" href="#5" data-toggle="tab">源代码</a></li>*@
                    </ul>
                    <form class="form-horizontal" id="components">
                        <fieldset>
                            <div class="tab-content">
                                <div class="tab-pane active" id="1" style="overflow:auto;height:500px">
                                    @*@{
                                            var fieldTemplets = ViewBag.FieldTemplets as List<FieldTemplet>;
                                            if (fieldTemplets != null && fieldTemplets.Count > 0)
                                            {
                                                foreach (var fieldTemplet in fieldTemplets)
                                                {
                                                    <div class="control-group component" rel="popover" name="@fieldTemplet.FieldName" trigger="manual" data-content="">
                                                        <label class="control-label leipiplugins-orgname">@fieldTemplet.Title @if (fieldTemplet.IsRequired == 1)
                                                        {@Html.Raw("<span style=\"color:red\">*</span>")}</label>
                                                        <div class="controls">
                                                            @if (fieldTemplet.Type == "E" || fieldTemplet.Type == "DT")
                                                            {
                                                                <input name="leipiNewField" type="text" fieldname="@fieldTemplet.FieldName" placeholder="" title="@fieldTemplet.Title" value="" class="leipiplugins" leipiplugins="text"
                                                                       fieldtype="@fieldTemplet.Type" fieldtitle="@fieldTemplet.Title" fieldmaxlength="@fieldTemplet.MaxLength" fieldisrequire="@fieldTemplet.IsRequired"
                                                                       fieldeditexttype="@fieldTemplet.EdiTextType" fielddefultvalue="@fieldTemplet.DefaultValue" fieldchoise="@fieldTemplet.Choise" fieldisselect="@fieldTemplet.IsSelect" />

                                                            }
                                                            else if (fieldTemplet.Type == "T")
                                                            {
                                                                <div class="textarea">
                                                                    <textarea title="@fieldTemplet.Title" name="leipiNewField" fieldname="@fieldTemplet.FieldName" class="leipiplugins" leipiplugins="textarea"
                                                                              fieldtype="@fieldTemplet.Type" fieldtitle="@fieldTemplet.Title" fieldmaxlength="@fieldTemplet.MaxLength" fieldisrequire="@fieldTemplet.IsRequired"
                                                                              fieldeditexttype="@fieldTemplet.EdiTextType" fielddefultvalue="@fieldTemplet.DefaultValue" fieldchoise="@fieldTemplet.Choise" fieldisselect="@fieldTemplet.IsSelect"></textarea>
                                                                </div>
                                                            }
                                                            else if (fieldTemplet.Type == "R" || fieldTemplet.Type == "C")
                                                            {
                                                                <select name="leipiNewField" title="@fieldTemplet.Title" fieldname="@fieldTemplet.FieldName" class="leipiplugins" leipiplugins="select"
                                                                        fieldtype="@fieldTemplet.Type" fieldtitle="@fieldTemplet.Title" fieldmaxlength="@fieldTemplet.MaxLength" fieldisrequire="@fieldTemplet.IsRequired"
                                                                        fieldeditexttype="@fieldTemplet.EdiTextType" fielddefultvalue="@fieldTemplet.DefaultValue" fieldchoise="@fieldTemplet.Choise" fieldisselect="@fieldTemplet.IsSelect">
                                                                    <option>选项</option>
                                                                </select>
                                                            }
                                                        </div>
                                                    </div>
                                                }
                                            }
                                        }*@

                                    <div class="control-group component" rel="popover" name="BuildingName" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">楼栋名称<span style="color:red">*</span></label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" fieldname="BuildingName" placeholder="" title="楼栋名称" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="1" fieldeditexttype="0" fielddefultvalue="" fieldisselect="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="PurposeCode" title="楼栋用途" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">楼栋用途<span style="color:red">*</span></label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="楼栋用途" fieldname="PurposeCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="1" fieldeditexttype="1" fielddefultvalue="" fieldisselect="1" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="TotalFloor" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">总层数<span style="color:red">*</span></label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" fieldname="TotalFloor" placeholder="" title="总层数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="1" fieldeditexttype="1" fielddefultvalue="" fieldisselect="1" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="IsElevator" title="是否带电梯" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">是否带电梯<span style="color:red">*</span></label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="是否带电梯" fieldname="IsElevator" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="1" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="MaintenanceCode" title="维护情况" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">维护情况<span style="color:red">*</span></label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="维护情况" fieldname="MaintenanceCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="1" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="OtherName" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">楼栋别名</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" fieldname="OtherName" placeholder="" title="楼栋别名" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect="" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="TotalBuildArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">建筑面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" fieldname="TotalBuildArea" placeholder="" title="建筑面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="BuildingTypeCode" title="建筑类型" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">建筑类型</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="建筑类型" fieldname="BuildingTypeCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="IsEValue" title="是否可估" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">是否可估</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="是否可估" fieldname="IsEValue" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="BuildDate" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">建筑时间</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="BuildDate" title="建筑时间" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="6" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="3" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="SaleDate" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">销售时间</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="SaleDate" title="销售时间" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="6" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="3" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="AveragePrice" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">销售均价</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="AveragePrice" title="销售均价" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="AverageFloor" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">均价层</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="AverageFloor" title="均价层" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="TotalNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">总户数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="TotalNumber" title="总户数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="UnitsNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">单元数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="UnitsNumber" title="单元数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="ElevatorRate" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">梯户数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="ElevatorRate" title="梯户数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect="" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="Wall" title="外墙装修" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">外墙装修</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="外墙装修" fieldname="Wall" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="Basement" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">地下层数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="Basement" title="地下层数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="StructureCode" title="建筑结构" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">建筑结构</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="建筑结构" fieldname="StructureCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="FloorHigh" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">层高</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="FloorHigh" title="层高" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="JoinDate" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">入伙日期</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="JoinDate" title="入伙日期" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="6" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="3" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="LicenceDate" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">预售时间</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="LicenceDate" title="预售时间" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="6" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="3" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="SaleLicence" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">销售许可证</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="SaleLicence" title="销售许可证" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect="" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="SubAveragePrice" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">附属房屋均价</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="SubAveragePrice" title="附属房屋均价" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="IsVirtual" title="是否虚拟楼栋" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">是否虚拟楼栋</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="是否虚拟楼栋" fieldname="IsVirtual" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="PodiumBuildingFloor" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">裙楼层数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="PodiumBuildingFloor" title="裙楼层数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="PodiumBuildingArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">裙楼面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="PodiumBuildingArea" title="裙楼面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="TowerBuildingArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">塔楼面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="TowerBuildingArea" title="塔楼面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="BasementArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">地下室总面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="BasementArea" title="地下室总面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="HouseNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">住宅套数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="HouseNumber" title="住宅套数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="HouseArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">住宅总面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="HouseArea" title="住宅总面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="OtherNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">非住宅套数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="OtherNumber" title="非住宅套数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="OtherArea" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">非住宅总面积</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="OtherArea" title="非住宅总面积" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="InnerFitmentCode" title="内部装修" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">内部装修</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="内部装修" fieldname="InnerFitmentCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <div class="control-group component" rel="popover" name="FloorHouseNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">单层户数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="FloorHouseNumber" title="单层户数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="LiftNumber" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">电梯数量</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="LiftNumber" title="电梯数量" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="LiftBrand" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">电梯品牌</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="LiftBrand" title="电梯品牌" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect="" />
                                        </div>
                                    </div>
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="PipelineGasCode" title="管道燃气" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">管道燃气</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="管道燃气" fieldname="PipelineGasCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="HeatingModeCode" title="采暖方式" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">采暖方式</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="采暖方式" fieldname="HeatingModeCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="WallTypeCode" title="墙体类型" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">墙体类型</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="墙体类型" fieldname="WallTypeCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="BHouseTypeCode" title="户型面积" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">户型面积</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="户型面积" fieldname="BHouseTypeCode" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Select start -->
                                    <div class="control-group component" rel="popover" name="IsYard" title="是否带院子" trigger="manual" data-content="">
                                        <!-- Select -->
                                        <label class="control-label leipiplugins-orgname">是否带院子</label>
                                        <div class="controls">
                                            <select name="leipiNewField" title="是否带院子" fieldname="IsYard" class="leipiplugins" leipiplugins="select"
                                                    fieldtype="3" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1">
                                                <option>选项</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Select end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="Doorplate" title="门牌号(地址)" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">门牌号(地址)</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="门牌号(地址)" name="leipiNewField" fieldname="Doorplate" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="FloorSpread" title="楼层分布" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">楼层分布</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="备注" name="leipiNewField" fieldname="FloorSpread" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="BasementPurpose" title="地下室用途" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">地下室用途</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="备注" name="leipiNewField" fieldname="BasementPurpose" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="Remark" title="备注" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">备注</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="备注" name="leipiNewField" fieldname="Remark" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="Facilities" title="设备设施" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">设备设施</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="设备设施" name="leipiNewField" fieldname="Facilities" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <!-- Textarea start -->
                                    <div class="control-group component" rel="popover" name="PriceDetail" title="价格系数说明" trigger="manual" data-content="">
                                        <!-- Textarea -->
                                        <label class="control-label leipiplugins-orgname">价格系数说明</label>
                                        <div class="controls">
                                            <div class="textarea">
                                                <textarea title="价格系数说明" name="leipiNewField" fieldname="PriceDetail" class="leipiplugins" leipiplugins="textarea"
                                                          fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="0" fielddefultvalue="" fieldisselect=""></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Textarea end -->
                                    <div class="control-group component" rel="popover" name="Distance" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">楼间距(米)</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="Distance" title="楼间距(米)" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="" fieldisrequire="" fieldeditexttype="1" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                    <div class="control-group component" rel="popover" name="Weight" trigger="manual" data-content="">
                                        <label class="control-label leipiplugins-orgname">价格系数</label>
                                        <div class="controls">
                                            <input name="leipiNewField" type="text" placeholder="" fieldname="Weight" title="价格系数" value="" class="leipiplugins" leipiplugins="text"
                                                   fieldtype="1" fieldmaxlength="" fieldminlength="2" fieldisrequire="" fieldeditexttype="2" fielddefultvalue="" fieldisselect="" fieldisnull="1" />
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane" id="2">
                                    @{
                                        if (groupList != null && groupList.Count > 0)
                                        {
                                            foreach (var item in groupList)
                                            {
                                                @*if (Model.FieldGroups.Where(m => m.FieldGroupName == item.FieldGroupTempletName).FirstOrDefault() == null)
                                                    {
                                                *@
                                                <div class="accordion-group component" rel="popover" name="@item.FieldGroupTempletName" title="" trigger="manual">
                                                    <div class="accordion-group">
                                                        <div class="accordion-heading">
                                                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#groupTemplet_@item.FieldGroupTempletId">
                                                                @item.FieldGroupTempletName
                                                            </a>
                                                        </div>
                                                        <div id="groupTemplet_@item.FieldGroupTempletId" class="accordion-body collapse in">
                                                            <div class="accordion-inner">
                                                                <fieldset groupname="@item.FieldGroupTempletName"></fieldset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                @*}*@
                                            }
                                        }
                                    }
                                    @*<div class="control-group component" rel="popover" name="g1" title="" trigger="manual">
                                            <fieldset>
                                                <legend class="leipiplugins-orgvalue">基本信息1</legend>
                                            </fieldset>
                                        </div>*@
                                </div>
                                @*<div class="tab-pane" id="5">
                                        <textarea id="source" class="span6"></textarea>
                                    </div>*@
                            </div>
                        </fieldset>
                    </form>
                </div><!--tab-content-->
            </div><!---tabbable-->
        </div> <!-- row -->

    </div> <!-- /container -->
    @*<script type="text/javascript" charset="utf-8" src="/Public/js/jquery-1.7.2.min.js?2024"></script>*@
    <script type="text/javascript" src="/Public/js/formbuild/bootstrap/js/bootstrap.min.js?2024"></script>
    <script type="text/javascript" charset="utf-8" src="/Public/js/formbuild/leipi.form.build.core.js?2024"></script>
    <script type="text/javascript" charset="utf-8" src="/Public/js/formbuild/leipi.form.build.plugins.js?2024"></script>
    <script type="text/javascript">

    </script>

    <!--script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F1e6fd3a46a5046661159c6bf55aad1cf' type='text/javascript'%3E%3C/script%3E"));
    </script-->

</body>
</html>
<script type="text/javascript">
    var scripts = [null, null]

    ace.load_ajax_scripts(scripts, function () {

    });

    $(function () {

        $("#save").click(function (d) {

            var formname = $("input[name='form_name']").val();

            var formeditor = $("#build").html();

            if (!formname) {

                alert("请填写模板名称！");

                return false;
            }

            var selectArray = [];

            var selects = $("#components").find("[fieldisselect='1']");

            for (var i = 0; i < selects.length; i++) {

                selectArray.push({FieldName: $(selects[i]).attr("fieldname"),Title: $(selects[i]).attr("title")});
            }

            formeditor = formeditor.replace(/[\n]/ig, '');//去掉所有换行

            //异步提交数据
            var paraJson = {id:@Model.TempletId, TempletName: formname, formeditor: formeditor,selects : selectArray }

            $.extendAjax(

                    {
                        url: "/Templet/Create?DatType=1034002",

                        data: paraJson,

                        type: "post",

                        dataType: "json"

                    },

                    function (data) {

                        if (data.result) {

                            alert(data.message);

                            window.location.href = "#/Templet/Index";

                        } else {

                            alert(data.message);
                        }
                    },

                   { dom: ".container" });
        })

        $("#callback").click(function(o){

            window.location.href = "#/Templet/Index";
        })

        bindField();
    })

    function bindField(){
        var field = $("#components").find(".component");
        var chkField = $("#build").find(".component,.accordion-group");
        for (var i = 0; i < field.length; i++) {
            var isShow = true;

            var fname = $(field[i]);

            for (var t = 0; t < chkField.length; t++) {

                if(fname.attr("name") == $(chkField[t]).attr("name")){
                    isShow = false;
                    break;
                }
            }

            if(isShow){
                fname.show();

            }else{
                fname.hide();
            }

        }
    }
</script>
