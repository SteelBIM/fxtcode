@using FxtDataAcquisition.Domain.Models
@using FxtDataAcquisition.Domain.DTO
@using FxtDataAcquisition.Common;
@model AllotFlow
@{
    Layout = null;
    int type = ViewBag.type;
    string path = System.Configuration.ConfigurationManager.AppSettings["OssDownload"];
    //图片
    var photoList = ViewBag.PhotoList as List<PPhoto> ?? new List<PPhoto>();

    var templet = Model.Project.Templet;
    
}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" style="overflow:hidden; ">
<head>
    <meta charset="utf-8" />
    @*设置浏览器IE文本模式为最高版本*@
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>无纸化住宅物业信息采集系统</title>
    <meta name="keywords" content="无纸化住宅物业信息采集系统" />
    <meta name="description" content="无纸化住宅物业信息采集系统" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- basic styles -->
    <link href="/bootstrap/ace1.2/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/font-awesome.min.css" />
    <!--[if IE 7]>
      <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/font-awesome-ie7.min.css" />
    <![endif]-->
    <!-- page specific plugin styles -->
    <!-- fonts -->
    @*<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />*@
    <!-- ace styles -->
    <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/ace.min.css" />
    <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/ace-rtl.min.css" />
    <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/ace-skins.min.css" />
    <!--[if lte IE 8]>
      <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/ace-ie.min.css" />
    <![endif]-->
    @*fancybox弹出框效果start*@
    <link href="/Scripts/jquery.fancybox-1.3.4/fancybox/jquery.fancybox-1.3.4.css" type="text/css" rel="Stylesheet" />
    @*下拉框效果插件*@
    <link rel="stylesheet" href="/bootstrap/ace1.2/assets/css/chosen.css" />
    <link type="text/css" rel="Stylesheet" href="/Css/AllotFlowInfo/EditProject.css" />

    @*fancybox弹出框效果end*@
    <!-- inline styles related to this page -->
    <!-- ace settings handler -->
    <script src="/bootstrap/ace1.2/assets/js/ace-extra.min.js"></script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/bootstrap/ace1.2/assets/js/html5shiv.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/respond.min.js"></script>
    <![endif]-->
    <!-- basic scripts -->
    <!--[if !IE]> -->
    @*<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>*@
    <!-- <![endif]-->
    <!--[if IE]>
    @*<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>*@
    <![endif]-->
    <!--[if !IE]> -->
    <script src="~/Scripts/jquery-1.8.2.js"></script>
    @*<script type="text/javascript">
            window.jQuery || document.write("<script src='/bootstrap/ace1.2/assets/js/jquery-1.10.2.min.js'>" + "<" + "script>");
        </script>*@
    <!-- <![endif]-->
    <!--[if IE]>
    <script type="text/javascript">
     window.jQuery || document.write("<script src='/bootstrap/ace1.2/assets/js/jquery-1.10.2.min.js'>"+"<"+"script>");
    </script>
    <![endif]-->
    <script type="text/javascript">
        if ("ontouchend" in document) document.write("<script src='/bootstrap/ace1.2/assets/js/jquery.mobile.custom.min.js'>" + "<" + "script>");
    </script>

    <script type="text/javascript" src="/Scripts/jquery-migrate-1.1.1.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/bootstrap.min.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/typeahead-bs2.min.js"></script>
    <!-- page specific plugin scripts -->
    <!--[if lte IE 8]>
      <script src="/bootstrap/ace1.2/assets/js/excanvas.min.js"></script>
    <![endif]-->
    <script src="/bootstrap/ace1.2/assets/js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/jquery.ui.touch-punch.min.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/jquery.slimscroll.min.js"></script>
    @*饼图*@
    <script src="/bootstrap/ace1.2/assets/js/jquery.easy-pie-chart.min.js"></script>
    @*走势图*@
    <script src="/bootstrap/ace1.2/assets/js/jquery.sparkline.min.js"></script>
    <!-- ace scripts -->
    <script src="/bootstrap/ace1.2/assets/js/ace-elements.min.js"></script>
    <script src="/bootstrap/ace1.2/assets/js/ace.min.js"></script>
    <script src="/bootstrap/bootstrap-paginator/bootstrap-paginator-1.0.2.js" type="text/javascript"></script>
    @*下拉框效果插件*@
    <script src="/bootstrap/ace1.2/assets/js/chosen.jquery.min.js"></script>
    <!-- inline scripts related to this page -->
    @*fancybox弹出框效果start*@
    <script src="/Scripts/jquery.fancybox-1.3.4/fancybox/jquery.fancybox-1.3.4.js" type="text/javascript"></script>
    @*fancybox动画效果(可选)*@
    <script src="/Scripts/jquery.fancybox-1.3.4/fancybox/jquery.easing-1.3.pack.js" type="text/javascript"></script>
    @*fancybox鼠标滚轮滚动效果(可选)*@
    <script src="/Scripts/jquery.fancybox-1.3.4/fancybox/jquery.mousewheel-3.0.4.pack.js" type="text/javascript"></script>
    @*fancybox弹出框效果end*@
    @*loadShow效果start*@
    <script src="/Scripts/jquery.blockUI.1.33/jquery.blockUI-1.33.js" type="text/javascript"></script>
    @*loadShow效果end*@
    @*<script type="text/javascript" src="https://api.map.baidu.com/api?key=&v=1.3&services=true"></script>*@

    <script type="text/javascript">
        window.BMap_loadScriptTime = (new Date).getTime();
        @*document.write('<script type="text/javascript" src="https://api.map.baidu.com/getscript?v=1.3&ak=&services=true&t=20150527115231"></script>');
        document.write('<link rel="stylesheet" type="text/css" href="https://api.map.baidu.com/res/13/bmap.css"/>');*@
    </script>
    <script type="text/javascript" src="https://api.map.baidu.com/getscript?v=1.3&ak=&services=true&t=20150527115231"></script>
    <link rel="stylesheet" type="text/css" href="https://api.map.baidu.com/res/13/bmap.css" />
    <script src="/Scripts/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/assets/css/chosen.css" />
    <script src="/assets/js/chosen.jquery.min.js"></script>
    <script src="/Scripts/Common/UrlCommon.js" type="text/javascript"></script>
    <script src="/Scripts/Common/CodeJson.js" type="text/javascript"></script>
    <script src="/Scripts/jquery.extend.js" type="text/javascript"></script>
    <script src="/Scripts/Common/Common.js?a=ad" type="text/javascript"></script>
    <script type="text/javascript" src="/Scripts/AllotFlowInfo/EditProject.js"></script>
    <style type="text/css">
        .fxtselect {
            width: 180px;
        }
    </style>
</head>
<body xmlns="http://www.w3.org/1999/xhtml">
    <div class="page-content" style="padding-bottom:0px;">

        <div class="tabbable">
            <ul class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab4">
                <li class="@if(type==0){@("active")}">
                    <a data-toggle="tab" href="#home4">楼盘信息</a>
                </li>

                <li class="@if(type==1){@("active")}">
                    <a data-toggle="tab" href="#profile4">照片(@photoList.Count)</a>
                </li>

                <li class="" id="dropdown_map">
                    <a data-toggle="tab" href="#dropdown14">定位(<font id="dingwei"></font>)</a>
                </li>
            </ul>

            <div class="tab-content" id="SubmitPanel" style="float:left; width:910px;height:535px; overflow-y:auto;">
                <div id="home4" class="tab-pane @if(type==0){@("active")}">
                    <form>
                        @{

                            if (templet != null)
                            {
                                if (templet.FieldGroups != null)
                                {
                                    foreach (var fieldGroups in templet.FieldGroups)
                                    {
                                        <fieldset>
                                            <legend>@fieldGroups.FieldGroupName</legend>
                                            <table id="sample-table-1" class="table table-striped table-bordered table-hover">
                                                @if (fieldGroups.Fields != null)
                                                {
                                                        var index3 = 0;
                                                        var index4 = 0;
                                                    foreach (var field in fieldGroups.Fields)
                                                    {
                                                        
                                                        
                                                        var index = fieldGroups.Fields.Count / 3;
                                                        var index2 = fieldGroups.Fields.Count % 3;
                                                        if (index3 == 0)
                                                        {
    @Html.Raw("<tr>")

                                                        }

                                                        @*<td>
                                                            <div class="form-group diy_form-group">
                                                                <label class="col-sm-3  no-padding-right diy_fromlabel">@field.Title @if(field.IsRequire == 1){@Html.Raw("<span style=\"color:red\">*</span>")}</label>
                                                                <div class="col-sm-9 diy_fromdiv">

                                                        @switch (field.FieldType)
                                                        {
                                                            case 1:
                                                                <input type="text"  id="@field.FieldName" value="@field.Value" name="@field.FieldName" class="datproject" fieldtype ="@field.Type"  fieldtype2 ="@field.FieldType"
                                                                        fieldtitle ="@field.Title" fieldmaxlength ="@field.MaxLength" fieldisrequire ="@field.IsRequire" fieldeditexttype ="@field.EdiTextType"
                                                                         fieldchoise ='@if (field.Choise !=null && field.Choise.Count > 0) { Html.Raw(field.Choise.ToJson()); }' />
                                                                break;
                                                            case 2:
                                                            <div class="textarea">
                                                                @*<textarea class="datproject" id="@field.FieldName" name="@field.FieldName" fieldtype="@field.Type" fieldtype2="@field.FieldType"
                                                                          fieldtitle="@field.Title" fieldmaxlength="@field.MaxLength" fieldisrequire="@field.IsRequire" fieldeditexttype="@field.EdiTextType"
                                                                          fieldchoise='@if (field.Choise != null && field.Choise.Count > 0) { Html.Raw(field.Choise.ToJson()); }'>
                                                                    @field.Value
                                                                </textarea>
                                                                <textarea class="datproject" id="@field.FieldName" name="@field.FieldName"></textarea>
                                                            </div>
                                                                break;
                                                            case 3:
                                                                string choiseString = string.Empty;
                                                                    if (field.Choise != null && field.Choise.Count > 0) { choiseString = field.Choise.ToJson().ToString(); }
                                                                    
                                                                <select class="datproject" id="@field.FieldName" name="@field.FieldName"  fieldtype ="@field.Type"  fieldtype2 ="@field.FieldType"
                                                                        fieldtitle ="@field.Title" fieldmaxlength ="@field.MaxLength" fieldisrequire ="@field.IsRequire" fieldeditexttype ="@field.EdiTextType"
                                                                         fieldchoise ='@Html.Raw(choiseString)' >
                                                                    @{
                                                                    <option value="-1">-请选择-</option>
                                                                if (field.FieldName == "AreaID")
                                                                {
                                                                    foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSArea area in ViewBag.AreaList)
                                                                    {
                                                                        if (field.Value == area.AreaId.ToString())
                                                                        {
                                                                            <option value="@area.AreaId" selected="selected">@area.AreaName</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@area.AreaId">@area.AreaName</option>
                                                                        }
                                                                    }
                                                                }
                                                                else if (field.FieldName == "SubAreaID")
                                                                {
                                                                    List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea> subarea = ViewBag.SubAreaList as List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea>;
                                                                    if (subarea != null && subarea.Count > 0)
                                                                    {
                                                                        foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea area in subarea)
                                                                        {
                                                                            <option value="@area.SubAreaId" @(area.SubAreaId.ToString() == field.Value ? " selected=\"selected\"" : "")=)>@area.SubAreaName</option>
                                                                        }
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    if (field.Choise != null && field.Choise.Count() > 0)
                                                                    {
                                                                        for (int i = 0; i < field.Choise.Count(); i++)
                                                                        {
                                                                            if (field.Value == field.Choise[i].Code.ToString())
                                                                            {
                                                                                <option value="@field.Choise[i].Code" selected="selected" >@field.Choise[i].CodeName</option>
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@field.Choise[i].Code" >@field.Choise[i].CodeName</option>
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                    
                                                                    }
                                                                </select>
                                                                break;
                                                                case 5:
                                                                string choiseString2 = string.Empty;
                                                                    if (field.Choise != null && field.Choise.Count > 0) { choiseString = field.Choise.ToJson().ToString(); }
                                                                <select class="datproject  chosen-select" id="@field.FieldName" name="@field.FieldName"  fieldtype ="@field.Type"  fieldtype2 ="@field.FieldType"
                                                                        fieldtitle ="@field.Title" fieldmaxlength ="@field.MaxLength" fieldisrequire ="@field.IsRequire" fieldeditexttype ="@field.EdiTextType"
                                                                         fieldchoise ='@Html.Raw(choiseString2)' data-placeholder="-请选择-" multiple="multiple">
                                                                    @{
                                                                
                                                                    if (field.Choise != null && field.Choise.Count() > 0)
                                                                    {
                                                                        for (int i = 0; i < field.Choise.Count(); i++)
                                                                        {
                                                                            if (field.Value.Contains(field.Choise[i].Code.ToString()))
                                                                            {
                                                                                <option value="@field.Choise[i].Code" selected="selected" >@field.Choise[i].CodeName</option>
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@field.Choise[i].Code" >@field.Choise[i].CodeName</option>
                                                                            }
                                                                        }
                                                                }
                                                                    
                                                                    }
                                                                </select>
                                                                break;
                                                            case 6:
                                                                <input type="text" value="@field.Value" name="@field.FieldName" id="@field.FieldName" class="datproject" onfocus="WdatePicker()"  fieldtype ="@field.Type"  fieldtype2 ="@field.FieldType"
                                                                        fieldtitle ="@field.Title" fieldmaxlength ="@field.MaxLength" fieldisrequire ="@field.IsRequire" fieldeditexttype ="@field.EdiTextType"
                                                                         fieldchoise ='@if (field.Choise != null && field.Choise.Count > 0) { Html.Raw(field.Choise.ToJson()); }' />
                                                                break;
                                                            default:
                                                                break;
                                                        }
                                                                </div>
                                                            </div>
                                                        </td>*@

                                                                if (field.FieldName == "ProjectName")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘名称<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.ProjectName" name="ProjectName" id="txt_projectname" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "OtherName")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘别名</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.OtherName" name="OtherName" id="txt_othername" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "AreaID")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">行政区<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="txt_areaid" name="AreaID" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSArea area in ViewBag.AreaList)
                                                                                {
                                                                                    <option value="@area.AreaId" @(area.AreaId == Model.Project.AreaID ? " selected=\"selected\"" : "")=)>@area.AreaName</option>
                                                                                }
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "SubAreaId")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">片区</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="txt_subareaid" name="SubAreaId" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @{
                                                                                    List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea> subarea = ViewBag.SubAreaList as List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea>;
                                                                                    if (subarea != null && subarea.Count > 0)
                                                                                    {
                                                                                        foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea area in subarea)
                                                                                        {
                                                                                            <option value="@area.SubAreaId" @(area.SubAreaId == Model.Project.SubAreaId ? " selected=\"selected\"" : "")=)>@area.SubAreaName</option>
                                                                                        }
                                                                                    }
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "Address")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘地址<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" id="txt_address" name="Address">@Model.Project.Address</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "East")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">四至-东</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.East" name="East" id="txt_east" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "South")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">四至-南</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.South" name="South" id="txt_south" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "West")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">四至-西</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.West" name="West" id="txt_west" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "North")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">四至-北</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.North" name="North" id="txt_north" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "PurposeCode")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">主用途<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="PurposeCode" name="PurposeCode" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.PurposeCode)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.PurposeCode ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingTypeCode")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">主建筑物类型</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select name="BuildingTypeCode" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.BuildingTypeCode)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.BuildingTypeCode ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingQuality")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">建筑质量</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select name="BuildingQuality" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.BuildingQuality)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.BuildingQuality ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "HousingScale")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">小区规模</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select name="HousingScale" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.HousingScale)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.HousingScale ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "RightCode")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">产权形式<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="RightCode" name="RightCode" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.RightCode)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.RightCode ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "AppendageClass")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">配套等级</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select name="AppendageClass" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (SYSCode code in ViewBag.AppendageClass)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.AppendageClass ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">开工日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.BuildingDate == null ? "" : Model.Project.BuildingDate.Value.ToString("yyyy-MM-dd"))" name="BuildingDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "EndDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">竣工日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.EndDate == null ? "" : Model.Project.EndDate.Value.ToString("yyyy-MM-dd"))" id="txt_enddate" name="EndDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "CoverDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">封顶日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.CoverDate == null ? "" : Model.Project.CoverDate.Value.ToString("yyyy-MM-dd"))" name="CoverDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "SaleDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">开盘日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.SaleDate == null ? "" : Model.Project.SaleDate.Value.ToString("yyyy-MM-dd"))" name="SaleDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "JoinDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">入伙日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.JoinDate == null ? "" : Model.Project.JoinDate.Value.ToString("yyyy-MM-dd"))" name="JoinDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "StartDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">土地起始日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.StartDate == null ? "" : Model.Project.StartDate.Value.ToString("yyyy-MM-dd"))" name="StartDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "InnerSaleDate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">内部认购日期</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@(Model.Project.InnerSaleDate == null ? "" : Model.Project.InnerSaleDate.Value.ToString("yyyy-MM-dd"))" name="InnerSaleDate" onfocus="WdatePicker()" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "UsableYear")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">土地使用年限</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.UsableYear" id="UsableYear" name="UsableYear" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "FieldNo")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">宗地号</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.FieldNo" name="FieldNo" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "CubageRate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">容积率</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.CubageRate" id="CubageRate" name="CubageRate" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "GreenRate")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">绿化率</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.GreenRate" id="GreenRate" name="GreenRate" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "AveragePrice")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">项目均价</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.AveragePrice" id="AveragePrice" name="AveragePrice" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "SalePrice")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">开盘均价</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.SalePrice" id="SalePrice" name="SalePrice" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ManagerTel")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">管理处电话</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.ManagerTel" name="ManagerTel" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ManagerPrice")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">物业费</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="@Model.Project.ManagerPrice" name="ManagerPrice" class="datproject" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingNum")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">总栋数<span style="color:red">*</span></label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="txt_buildingnum" name="BuildingNum" class="datproject" value="@Model.Project.BuildingNum" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "TotalNum")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">总套数</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="txt_totalnum" name="TotalNum" class="datproject" value="@Model.Project.TotalNum" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "PinYin")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">拼音简写</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="PinYin" class="datproject" value="@Model.Project.PinYin" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "PinYinAll")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘名称全拼</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="PinYinAll" class="datproject" value="@Model.Project.PinYinAll" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BasementPurpose")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">地下室用途</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="BasementPurpose" class="datproject" value="@Model.Project.BasementPurpose" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "Facilities")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">设备设施</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="Facilities" class="datproject" value="@Model.Project.Facilities" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ManagerQuality")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">物业管理质量</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="txt_managerquality" name="ManagerQuality" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.ManagerQuality)
                                                                                {
                                                                                    <option value="@code.Code" @(code.Code == Model.Project.ManagerQuality ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                                }
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "PlanPurpose")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">土地规划用途</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select name="PlanPurpose" class="datproject chosen-select fxtselect" data-placeholder="-请选择-" multiple="multiple">
                                                                                @{

                                                                                    foreach (SYSCode code in ViewBag.PlanPurpose)
                                                                                    {
                                                                                        if (!string.IsNullOrEmpty(Model.Project.PlanPurpose)) 
                                                                                        { 
                                                                                            <option value="@code.Code" @(Model.Project.PlanPurpose.Contains(code.Code.ToString()) ? " selected=\"selected\"" : "")>@code.CodeName</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@code.Code">@code.CodeName</option>
                                                                    
                                                                                        }
                                                                                    }
                                                                                }
                                                               
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "DevelopersCompany")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">开发商</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="" name="DevelopersCompany" class="txt_pc" id="txt_developerscompany" data-code="@SYSCodeManager.COMPANYTYPECODE_1" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ManagerCompany")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">物业管理公司</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" value="" name="ManagerCompany" class="txt_pc" id="txt_managercompany" data-code="@SYSCodeManager.COMPANYTYPECODE_4" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "LandArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">占地面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="LandArea" name="LandArea" class="datproject" value="@Model.Project.LandArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">建筑面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="BuildingArea" name="BuildingArea" class="datproject" value="@Model.Project.BuildingArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "SalableArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">可销售面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="SalableArea" class="datproject" value="@Model.Project.SalableArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BusinessArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">商业面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="BusinessArea" class="datproject" value="@Model.Project.BusinessArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "IndustryArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">工业面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" name="IndustryArea" class="datproject" value="@Model.Project.IndustryArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "OfficeArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">办公面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="OfficeArea" name="OfficeArea" class="datproject" value="@Model.Project.OfficeArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "OtherArea")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">其他用途面积</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="OtherArea" name="OtherArea" class="datproject" value="@Model.Project.OtherArea" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ParkingNumber")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">车位数</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <input type="text" id="txt_parkingnumber" name="ParkingNumber" class="datproject" value="@Model.Project.ParkingNumber" />
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ParkingStatus")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">停车状况</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select id="txt_parkingstatus" name="ParkingStatus" class="datproject fxtselect">
                                                                                <option value="0">-请选择-</option>
                                                                                @{
                                                                foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.ParkingStatusCode)
                                                                {

                                                                        <option value="@code.Code" @(code.Code == Model.Project.ParkingStatus ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                                }
                                                                                }
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "IsComplete")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">是否完成基础数据</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select class="dathouse fxtselect" name="IsComplete">
                                                                                <option value="-1">-请选择-</option>
                                                                                <option value="1" @(1 == Model.Project.IsComplete ? " selected=\"selected\"" : "")=)>是</option>
                                                                                <option value="0" @(0 == Model.Project.IsComplete ? " selected=\"selected\"" : "")=)>否</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "IsEValue")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">是否可估</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <select class="dathouse fxtselect" name="IsEValue">
                                                                                <option value="-1">-请选择-</option>
                                                                                <option value="1" @(1 == Model.Project.IsEValue ? " selected=\"selected\"" : "")=)>是</option>
                                                                                <option value="0" @(0 == Model.Project.IsEValue ? " selected=\"selected\"" : "")=)>否</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "Detail")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">项目概况</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" id="txt_detail" name="Detail">@Model.Project.Detail</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "BuildingDetail")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">楼栋备注</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="BuildingDetail">@Model.Project.BuildingDetail</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "HouseDetail")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">房号备注</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="HouseDetail">@Model.Project.HouseDetail</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "RegionalAnalysis")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">区域分析</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="RegionalAnalysis">@Model.Project.RegionalAnalysis</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "Wrinkle")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">有利因素</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="Wrinkle">@Model.Project.Wrinkle</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "Aversion")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">不利因素</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="Aversion">@Model.Project.Aversion</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }
                                                            if (field.FieldName == "ParkingDesc")
                                                            {
                                                                <td>
                                                                    <div class="form-group diy_form-group">
                                                                        <label class="col-sm-3  no-padding-right diy_fromlabel">车位描述</label>
                                                                        <div class="col-sm-9 diy_fromdiv">
                                                                            <textarea class="datproject fxtselect" name="ParkingDesc">@Model.Project.ParkingDesc</textarea>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            }

                                                        index3++;
                                                            if (index3 == 3 || (index3 == index2 && index4 == index))
                                                            {
                                                                index4++;
                                                                index3 = 0;
                                                                @Html.Raw("</tr>")
                                                            }

                                                    }
                                                }
                                            </table>
                                        </fieldset>
                                    }
                                }
                            }
                        }
                        <input type="hidden" name="Id" value="@Model.Project.ProjectId" />
                        @*<table id="sample-table-1" class="table table-striped table-bordered table-hover">
                            <thead style="display:none;">
                                <tr>
                                    <th>Domain</th>
                                    <th>Price</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘名称</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.ProjectName" name="ProjectName" id="txt_projectname" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">楼盘别名</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.OtherName" name="OtherName" id="txt_othername" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">行政区</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_areaid" name="AreaID" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSArea area in ViewBag.AreaList)
                                                    {
                                                        <option value="@area.AreaId" @(area.AreaId == Model.Project.AreaID ? " selected=\"selected\"" : "")=)>@area.AreaName</option>
                                                    }
                                                </select>

                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">片区</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_subareaid" name="SubAreaId" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @{
                                                        List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea> subarea = ViewBag.SubAreaList as List<FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea>;
                                                        if (subarea != null && subarea.Count > 0)
                                                        {
                                                            foreach (FxtDataAcquisition.Domain.DTO.FxtDataWcfDTO.FxtApi_SYSSubArea area in subarea)
                                                            {
                                                                <option value="@area.SubAreaId" @(area.SubAreaId == Model.Project.SubAreaId ? " selected=\"selected\"" : "")=)>@area.SubAreaName</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">地址</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.Address" name="Address" id="txt_address" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">四至-东</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.East" name="East" id="txt_east" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>

                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">四至-南</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.South" name="South" id="txt_south" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">四至-西</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.West" name="West" id="txt_west" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">四至-北</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@Model.Project.North" name="North" id="txt_north" class="datproject" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">主用途</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_purposecode" name="PurposeCode" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.RightCode)
                                                    {
                                                        <option value="@code.Code" @(code.Code == Model.Project.PurposeCode ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">产权形式</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_rightcode" name="RightCode" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.RightCode)
                                                    {
                                                        <option value="@code.Code" @(code.Code == Model.Project.RightCode ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">竣工时间</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="@(Model.Project.EndDate == null ? "" : Convert.ToDateTime(Model.Project.EndDate).ToString("yyyy-MM-dd"))" id="txt_enddate" name="EndDate" onfocus="WdatePicker()" class="datproject" />
                                            </div>
                                        </div>
                                    </td>

                                </tr>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">总栋数</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" id="txt_buildingnum" name="BuildingNum" class="datproject" value="@(Model.Project.BuildingNum == null ? "" : Model.Project.BuildingNum.ToString())" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">总套数</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" id="txt_totalnum" name="TotalNum" class="datproject" value="@(Model.Project.TotalNum == null ? "" : Model.Project.TotalNum.ToString())" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">物业管理质量</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_managerquality" name="ManagerQuality" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.ManagerQuality)
                                                    {
                                                        <option value="@code.Code" @(code.Code == Model.Project.ManagerQuality ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">开发商</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="" name="DevelopersCompany" class="txt_pc" id="txt_developerscompany" data-code="@SYSCodeManager.COMPANYTYPECODE_1" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">物业管理公司</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" value="" name="ManagerCompany" class="txt_pc" id="txt_managercompany" data-code="@SYSCodeManager.COMPANYTYPECODE_4" />
                                            </div>
                                        </div>
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">车位数</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <input type="text" id="txt_parkingnumber" name="ParkingNumber" class="datproject" value="@(Model.Project.ParkingNumber == null ? "" : Model.Project.ParkingNumber.ToString())" />
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">停车状况</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <select id="txt_parkingstatus" name="ParkingStatus" class="datproject">
                                                    <option value="0">-请选择-</option>
                                                    @{
                                                        foreach (FxtDataAcquisition.Domain.Models.SYSCode code in ViewBag.ParkingStatusCode)
                                                        {

                                                            <option value="@code.Code" @(code.Code == Model.Project.ParkingStatus ? " selected=\"selected\"" : "")=)>@code.CodeName</option>
                                                        }
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td colspan="3">
                                        <div class="form-group diy_form-group">
                                            <label class="col-sm-3  no-padding-right diy_fromlabel">项目概况</label>
                                            <div class="col-sm-9 diy_fromdiv">
                                                <textarea class="datproject" style="width:600px;height:100px" id="txt_detail" name="Detail">@Model.Project.Detail</textarea>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>*@
                    </form>
                    @if (ViewBag.IsUpdateRight == 1)
                    {
                        <div class="clearfix form-actions diy_form-actions">
                            <div class="col-md-offset-3 col-md-9 col-sm-3">
                                <input class="btn btn-info" type="button" value="保存" id="btnSubmit" />
                            </div>
                        </div>
                    }
                </div>

                <div id="profile4" class="tab-pane @if(type==1){@("active")}">
                    <button class="btn btn-sm btn-success" style="margin:10px 0px 10px 10px" onclick="UploadProjectImage(@Model.Project.ProjectId)">上传图片</button>
                    <button class="btn btn-sm btn-danger" style="margin:10px 10px 10px 0px" onclick="DeleteProjectImage(@Model.Project.ProjectId)">删除图片</button>
                    <ul class="list-unstyled" id="projPhotoList">
                        @foreach (PPhoto obj in photoList)
                        {
                            <li>

                                <span><a class="projPhoto" href="@path@obj.Path"><img src="@path@obj.Path" /></a></span>
                                <span data-code="@(Convert.ToInt32(obj.PhotoTypeCode))" class="photoTypeName photoTypeName_@(Convert.ToInt32(obj.PhotoTypeCode))"></span>
                                <label class="cbPanel" style="float:right;padding-top: 3px">
                                    <input type="checkbox" name="ids" class="ace cb_select" value="@obj.Id" />
                                    <span class="lbl"></span>
                                </label>
                            </li>
                        }
                    </ul>
                </div>

                <div id="dropdown14" class="tab-pane">
                    <div id="MapPointBtn">
                        <button class="btn btn-xs mapBtn btn-white" id="btnUserPoint" style="display:none;">查勘员位置</button>
                        <button class="btn btn-xs mapBtn" id="btnHousePoint">物业位置</button>
                        <span>
                            查看周边：
                            <select id="searchAroundMap">
                                <option>请选择 </option>
                                <option>医院</option>
                                <option>银行</option>
                                <option>中学</option>
                                <option>小学</option>
                                <option>幼儿园 </option>
                                <option>商场</option>
                                <option>菜市场 </option>
                                <option>邮局</option>
                                <option>社康</option>
                                <option>会所</option>
                                <option>运动场所 </option>
                                <option>公交站 </option>
                                <option>地铁</option>
                            </select>
                        </span>&nbsp;
                        <button class="btn btn-xs mapBtn" id="btnlocation">开始定位</button>
                        <button class="btn btn-xs mapBtn" id="btnSavelocation">保存定位</button>
                    </div>
                    <div style="float:left; width:100%;height:375px; overflow:hidden;" id="mapContent">

                    </div>
                </div>
            </div>
        </div>

        <div class="page-header" style="display:none;">
            <h1>
                <a href="javascript:;">楼盘信息</a>|
                <a href="javascript:;">照片(0)</a>|
                <a href="javascript:;">定位</a>
            </h1>
        </div><!-- /.page-header -->

        <div class="row" style="display:none;">
            <!-- /.col -->
        </div><!-- /.row -->
    </div>
    @*城市信息*@
    @*<div style="display:none">
            @Html.Action("Partial_SelectCity", "Shared")
        </div>*@
    @*楼盘相关企业信息*@
    <div style="display:none;" id="codeLnkPCList">
        @{
            List<PCompany> list = ViewBag.lnkPCList as List<PCompany>;
            if (list != null && list.Count > 0)
            {
                foreach (PCompany com in list)
                {
                    <span class="code_@com.CompanyType">@com.CompanyName</span>
                }
            }
        }
    </div>

    <input type="hidden" id="hdIsUpdateRight" value="@ViewBag.IsUpdateRight" />
    <input type="hidden" id="hdHouseX" value="@Model.Project.X" />
    <input type="hidden" id="hdHouseY" value="@Model.Project.Y" />
    <input type="hidden" id="hdUserX" value="@(Model.X.HasValue?Model.X:0)" />
    <input type="hidden" id="hdUserY" value="@(Model.Y.HasValue?Model.Y:0)" />
    <input type="hidden" id="hdProjectId" value="@Model.Project.ProjectId" />
    <input type="hidden" id="hdAllotId" value="@Model.Id" />
</body>
</html>
